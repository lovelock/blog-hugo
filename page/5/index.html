<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Me and the Web </title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="">


<meta property="og:title" content="Me and the Web ">
<meta property="og:site_name" content="Me and the Web"/>
<meta property="og:url" content="http://lovelock.github.io/" />
<meta property="og:locale" content="en-us">


<meta property="og:type" content="website" />



<link href="http://lovelock.github.io/index.xml" rel="alternate" type="application/rss+xml" title="Me and the Web" />

<link rel="canonical" href="http://lovelock.github.io/" />

<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://lovelock.github.io/touch-icon-144-precomposed.png">
<link href="http://lovelock.github.io/favicon.png" rel="icon">

<meta name="generator" content="Hugo 0.15" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link href='https://fonts.googleapis.com/css?family=Merriweather:300%7CRaleway%7COpen+Sans' rel='stylesheet' type='text/css'>
<link rel="stylesheet" href="http://lovelock.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="http://lovelock.github.io/css/style.css">
<link rel="stylesheet" href="http://lovelock.github.io/css/highlight/default.css">

  
</head>
<body>
  <main id="main-wrapper" class="container main_wrapper has-sidebar">
    <header id="main-header" class="container main_header">
  <div class="container brand">
  <div class="container title h1-like">
  <a class="baselink" href="http://lovelock.github.io">
  Frost Wong

</a>

</div>

  
<div class="container topline">
  
  Be a better WEB developer


</div>


</div>

  <nav class="container nav primary no-print">
  


  
<a href="http://lovelock.github.io/php" title="Show list of posts">PHP</a>

<a href="http://lovelock.github.io/python" title="Python stuff">Python</a>

<a href="http://lovelock.github.io/about">About</a>

<a href="http://lovelock.github.io/post" title="Show list of posts">Posts</a>

<a href="http://lovelock.github.io/tags" title="Show list of tags">Tags</a>


</nav>

<div class="container nav secondary no-print">
  
<a id="contact-link-email" class="contact_link" href="mailto:frostwong@gmail.com">
  <span class="fa fa-envelope-square"></span><span>email</span></a>



<a id="contact-link-github" class="contact_link" href="https://github.com/lovelock">
  <span class="fa fa-github-square"></span><span>github</span></a>











<a id="contact-link-twitter" class="contact_link" href="https://twitter.com/frostwong">
  <span class="fa fa-twitter-square"></span><span>twitter</span></a>







</div>


  

</header>


<section id="main-content" class="container main_content homepage">
  <header class="container header">
    <h1>Me and the Web
</h1>

    <span>last update: <time datetime="2016-01-06T21:35:12&#43;08:00">6 January at 9:35pm</time>
</span>

  </header>
  
  
    <article class="container content summary">
  <div class="container hat">
  <h2><a href="http://lovelock.github.io/2015/08/10/iframe%E9%97%B4%E9%80%9A%E4%BF%A1%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/">iframe间通信方法总结
</a>
</h2>

  <time datetime="2015-08-10">10 Aug, 2015</time>

</div>

  <p class="container content">
  
  
    在对外提供Web组件时常常会遇到iframe间的通信问题，本文旨在总结目前主流的解决方案，并给出了详细的代码示例。 解决方案大体有以下几种： window.postMessage Cross Frame(aba) window.name 而窗体间的通信问题分为以下几种： child和parent之间 child和child之间 本文代码示例的代码仓库。 下面详细介绍这些方法。 window.postMessage 这种方法有局限，因为是HTML5的API，所以只支持到IE8及以上的IE浏览器，其他现代浏览器当然没有问题。 child和parent之间的通信 child和parent之间用window.postMessage通信不受同源策略的限制，只需要在被调用方判断一下是否是可以接受的调用方就可以了。具体是在parent（也就是主window）里实现如下： &lt;iframe src=&quot;http://iframe1.unixera.com/iframe1.html&quot; id=&quot;iframe1&quot;&gt; &lt;/iframe&gt; &lt;div&gt; &lt;input type=&quot;submit&quot; id=&quot;send&quot;/&gt; &lt;/div&gt; &lt;div&gt; &lt;span&gt;Message from Child&lt;/span&gt; &lt;div id=&quot;message_handler&quot;&gt; &lt;/div&gt; &lt;/div&gt; &lt;script src=&quot;iframe1.js&quot;&gt;&lt;/script&gt; window.onload = function () { var message_handler = document.getElementById(&quot;message_handler&quot;); var btn = document.getElementById(&quot;send&quot;); function sendMessage(e) { e.preventDefault(); document.getElementById(&quot;iframe1&quot;).contentWindow.postMessage(&quot;Welcome to unixera.com&quot;, &quot;http://iframe1.unixera.com&quot;); } function receiveMessage(e) { if (e.origin !== &quot;http://container.unixera.com&quot;) { return; } message_handler.innerHTML = e.data; e.source.postMessage(&quot;Response
  


</p>


  <div class="container readlink">
  <a href="http://lovelock.github.io/2015/08/10/iframe%E9%97%B4%E9%80%9A%E4%BF%A1%E6%96%B9%E6%B3%95%E6%80%BB%E7%BB%93/">Read more &rarr;</a>

</div>


</article>

  
    <article class="container content summary">
  <div class="container hat">
  <h2><a href="http://lovelock.github.io/2015/07/13/ios8%E5%8F%8A%E4%BB%A5%E4%B8%8B%E4%BD%BF%E7%94%A8nsurlconnectiondelegate%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/">iOS8及以下使用NSURLConnectionDelegate实现网络请求
</a>
</h2>

  <time datetime="2015-07-13">13 Jul, 2015</time>

</div>

  <p class="container content">
  
  
    花了点时间把iOS的网络请求算是有了一点肤浅的认识，在这个夜深人静的晚上记录以下。 首先，用到的类有NSURLRequest和NSURLConnection，遵循的协议NSURLConnectionDelegate。 NSURLConnectionDelegate在iOS9中已经废弃了，取而代之的是NSURLSessionDelegate，由于我这次适配的是iOS8.3，所以抽时间再写关于后者的用法。 简明的说一下流程： 发送请求这步其实经常会用到，但作为一款App，它需要的通常不是让服务器做什么改变，而是从服务端获取信息。因此，发送网络请求其实最重要的是怎样处理请求返回的结果。 在图中用等宽字体显示的函数就是NSURLConnectionDelegate定义的方法。 connection:didReceiveResponse: 这个方法也就是对服务器的响应做一个判断，通知该类（这里不知道应该怎么描述，是通知谁？）发送的请求服务器端已经给出响应。这时需要做初始化的工作了。我发发送请求就是为了得到数据，那么数据存在哪里呢？从connection:didReceiveData:的函数定义可以看到返回的数据是在这个函数的参数中，就需要一个可以全局访问的变量来保存数据，以在其余的流程里继续使用。而初始化又有问题，如何保证你这个全局变量不是已经被赋值呢？ 判断是否为NULL，如果为NULL，则初始化一个新的变量，否则，将变量的程度设置为0，其实也就是清空变量中存储的值。 connection:didReceiveData: 这个方法是对服务器返回的数据做处理。其实就是一个简单的赋值操作，将返回值赋给上面提到的变量。 connectionDidFinishLoading 这个方法才是最重要的，顾名思义，它用来处理最终你获取到的数据要干什么。比如把它赋给某个Label显示出来了，比如再次发送一个请求了。这里我只是要把整个流程走通，所以只是简单的把它的返回值赋给了当前视图中的一个Label。 提一下一个小的技巧 如何在日志中看到请求返回的结果？ 要知道，返回的结果是一个NSData数据类型，无法在NSLog函数里打印（其实是可以打印的，不过打出的结果是16进制的字符，人眼也看不懂），但如果你只是想比较一下两次的请求返回值不同，那么可以直接用 NSLog(@&quot;%@&quot;, data); 而如果要具体的看到返回值的内容，则要做进一步的处理 NSString *strData = [NSString alloc] initWithData:data encoding:NSUTF8StringEncoding]; NSLog(@&quot;%@&quot;, strData); OK，简单的就是这样。
  


</p>


  <div class="container readlink">
  <a href="http://lovelock.github.io/2015/07/13/ios8%E5%8F%8A%E4%BB%A5%E4%B8%8B%E4%BD%BF%E7%94%A8nsurlconnectiondelegate%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/">Read more &rarr;</a>

</div>


</article>

  
    <article class="container content summary">
  <div class="container hat">
  <h2><a href="http://lovelock.github.io/2015/07/12/centos7%E9%98%B2%E7%81%AB%E5%A2%99%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE/">CentOS7防火墙简单配置
</a>
</h2>

  <time datetime="2015-07-12">12 Jul, 2015</time>

</div>

  <p class="container content">
  
  
    防火墙这么个复杂的东西没有一个标准的配置方式真是太烦了，iptables的命令太繁琐，时间长了不用就忘记了，忘记可以记下来，可到了RHEL7竟然又加了个wrapper，叫什么firewall-cmd，我的天，你看看你取了个什么名字吧，不得不说红帽的人真是没有品位。 言归正传，通常我们的工作环境其实也打不到这个7，也不会接触这个东西。 打开一个端口 sudo firewall-cmd --zone=public --add-port=80/tcp --permanent 这就添加了一个80/tcp的端口 然后需要reload一下 sudo firewall-cmd --reload 说它是个wrapper是因为不管是这个firewall-cmd还是Ubuntu的ufw其实都是对iptables系列命令的一个封装，无非就是三步 添加一条记录 把这条记录写入内存 如果下次开机后还要它生效，那就把它写入文件 相应的，ufw的操作如下
  


</p>


  <div class="container readlink">
  <a href="http://lovelock.github.io/2015/07/12/centos7%E9%98%B2%E7%81%AB%E5%A2%99%E7%AE%80%E5%8D%95%E9%85%8D%E7%BD%AE/">Read more &rarr;</a>

</div>


</article>

  
    <article class="container content summary">
  <div class="container hat">
  <h2><a href="http://lovelock.github.io/2015/07/12/uiimagepickercontrollerusage/">UIImagePickerControllerUsage
</a>
</h2>

  <time datetime="2015-07-12">12 Jul, 2015</time>

</div>

  <p class="container content">
  
  
    周末两天完全没闲着，研究iOS研究的头都要裂了。 这次先说说UIImagePickerController这个类。 首先，它的作用是拍摄，既可以拍照片也可以录像。 基本流程： 让你的类实现两个协议(protocol) UINavigationControllerDelegate UIImagePickerControllerDelegate 在storyboard中添加一个按钮，并给这个按钮绑上一个IBAction，就叫做takePictures吧。 实现这个takePictures // 判断当前的设备是否支持UIImagePickerControllerSourceTypeCamera，也就是是不是有摄像头，目前在网上能看到的代码里这一点都会做个判断，我觉得较早之前为iPod写程序并且要兼容iPhone时有需要，现在可能就已经不需要了，还有谁的iPhone没有摄像头啊 if ([UIImagePickerController isSourceTypeAvailable:UIImagePickerControllerSourceTypeCamera]) { // 指定委托代理 videoPicker.delegate = self; // 指定使用摄像头，因为sourceType还可能有UIImagePickerControllerSourceTypePhotoLibrary和UIImagePickerControllerSourceTypeSavedPhotosAlbum两种，而这两种是从手机上保存的照片中选择照片 videoPicker.sourceType = UIImagePickerControllerSourceTypeCamera; // 这个是指定媒体的类型，也就是静态图片、视频、甚至无声视频这些 // 在XCode的提示里有两个类型可能会引起混淆，kUTTypeMovie和kUTTypeVideo，你不看文档一定想不到两个的区别——前者是有声视频，后者则只有图像，没有声音 videoPicker.mediaTypes = [NSArray arrayWithObjects:(NSString *)kUTTypeMovie, nil]; // 这一步很关键，执行了这个拍照的界面才会在手机上呈现出来 [self presentViewController:videoPicker animated:YES completion:nil]; } 保存拍摄的照片或视频 这个依赖于前面实现的协议UIImagePickerControllerDelegate，该协议有一个imagePickerController:didFinishPickingMediaWithInfo方法，我们要做的保存动作就在这个方法里实现。 - (void)imagePickerController:(nonnull UIImagePickerController *)picker didFinishPickingMediaWithInfo:(nonnull NSDictionary&lt;NSString *,id&gt; *)info { // 获取拍摄的媒体的类型 NSString *mediaType = [info objectForKey:UIImagePickerControllerMediaType]; // 判断拍摄的媒体的类型 if ([mediaType isEqualToString:(NSString *) kUTTypeMovie]) { // 获取要保存的文件的路径
  


</p>


  <div class="container readlink">
  <a href="http://lovelock.github.io/2015/07/12/uiimagepickercontrollerusage/">Read more &rarr;</a>

</div>


</article>

  
    <article class="container content summary">
  <div class="container hat">
  <h2><a href="http://lovelock.github.io/2015/07/10/%E4%B9%9F%E8%B0%88%E5%88%9B%E4%B8%9A/">也谈创业
</a>
</h2>

  <time datetime="2015-07-10">10 Jul, 2015</time>

</div>

  <p class="container content">
  
  
    我竟然在标签里写了“情怀”两个字。 自从罗永浩做了锤子手机，“情怀”就变成了一个被用烂了的词，但不可否认的是，它是确实存在的东西。 今天中午和同事聊天，谈到了中国和国外的创业者的不同之处，其中有一条，那就是创业者的初心。 我们中国的创业者们其实多数并不是想真正要做一款成功的产品，而是看到了现在这个互联网的大潮，既然大家都有份，那么我也要去忽悠点投资人的钱来。于是就绞尽脑汁的为用户“臆想”出很多在我这样一个普通上班族看来根本没有任何意义的需求来。初期可以拿着这个根本不存在的需求去忽悠投资人，我想现在的投资者可能也是处于一个不理智的阶段，看到任何O2O的项目都想插一棒子进来——万一成功了呢？ 然而，这些CEO们拿了钱之后干什么呢？当然是提高自己的生活水平。他们把融来的投资的一大部分撞进来自己的腰包，然后若无其事的继续经营着公司——然后九成九的机会公司死掉了，但他已经用这样一个特殊的方式把钱赚到了。 我们再看国外那些成功的创业者们，最初创办公司的目的都是实现自己的价值——有的是自己有一个想法，想把想法卖给大公司但遭到拒绝，于是奋发图强，自己做；有的是眼看着自己所在的公司无法把自己寄予厚望的产品做的符合自己的理想——这些人做出来的产品能不成功吗？ 我们还谈到了中国公司对于开源社区的贡献问题，中国的互联网行业存在大量对互联网技术毫不关心的从业者，他们工作仅仅就是为了挣口饭吃，他们不关心技术的发展潮流，不关心怎样提高自己的技术水平，需要什么东西到网上搜一搜，基本都能找到现成的解决方案，为什么会这样呢？因为这些人做的是人家早就做过的东西。尤其对于开源社区，大部分人对它的理解就是——免费。对，但也不全对。我这里不去说RMS的理论，什么开源了，自由了之类的观点，我们的水平还达不到那一步。 连起码的感恩之心都没有。 放眼望去，中国有多少互联网公司用的是LAMP或者LNMP的技术架构？几乎全都是。那又有多少的公司在实现盈利之后意识到我们的成功来源于开源社区的无私奉献，我们应该给他们一些捐赠？我想这个数量又是屈指可数的。想一下对于盗版的意识就知道了，不说资金不那么充足的小公司，就连很多大公司内部都明目张胆的使用盗版软件，设想一下，一个本来收费的东西你首先想到的不是正常的付费，而是要破解它，那一个不强制让你缴费的东西你会想到要主动给他钱？ 白日做梦。 而我们看到Whatsapp的创始人向FreeBSD基金会的捐款，看到FaceBook对PHP的大量贡献，甚至一直为很多人不齿的微软每年为各个开源软件基金会的捐赠也不在少数，这方面，我们的意识还差得远。 而我自己也在筹划一个项目，在项目成型之前我把它暂时放在bitbucket上面作为个人项目进行开发，等能够正常运行了再开放出来。但是目前还处在技术选型阶段，感谢开源社区给了我那么多选择。
  


</p>


  <div class="container readlink">
  <a href="http://lovelock.github.io/2015/07/10/%E4%B9%9F%E8%B0%88%E5%88%9B%E4%B8%9A/">Read more &rarr;</a>

</div>


</article>

  
  
<div class="container pagination">
  


<a aria-label="First" href="http://lovelock.github.io/">
  <span aria-hidden="true">««</span>
</a>

<a aria-label="Previous" href="http://lovelock.github.io/page/4/">
  <span aria-hidden="true">«</span>
</a>


<a href="http://lovelock.github.io/">
  1
</a>

<a href="http://lovelock.github.io/page/2/">
  2
</a>

<a href="http://lovelock.github.io/page/3/">
  3
</a>

<a href="http://lovelock.github.io/page/4/">
  4
</a>

<a class="active" href="http://lovelock.github.io/page/5/">
  5
</a>

<a href="http://lovelock.github.io/page/6/">
  6
</a>

<a href="http://lovelock.github.io/page/7/">
  7
</a>

<a href="http://lovelock.github.io/page/8/">
  8
</a>

<a href="http://lovelock.github.io/page/9/">
  9
</a>


<a aria-label="Next" href="http://lovelock.github.io/page/6/">
  <span aria-hidden="true">»</span>
</a>

<a aria-label="Last" href="http://lovelock.github.io/page/9/">
  <span aria-hidden="true">»»</span>
</a>


</div>


</section>

      <footer id="main-footer" class="container main_footer">
  

  <div class="container nav foot no-print">
  
<a href="http://lovelock.github.io/license">license</a>


  <a class="toplink" href="#">back to top</a>

</div>

  <div class="container credits">
  
<div class="container footline">
  
  Learn what you eager


</div>


  
<div class="container copyright">
  
  &copy; 2013-2015 Frost Wong. All rights reserved.


</div>


</div>

</footer>

    </main>
    
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//unixagain.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>



<script src="http://lovelock.github.io/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




    
  </body>
</html>

