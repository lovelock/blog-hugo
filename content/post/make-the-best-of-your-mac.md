+++
author = "frostwong"
date = "2016-04-19T19:43:06+08:00"
description = "提高Mac电脑的生产力"
draft = false
keywords = ["homebrew", "mac"]
tags = ["Mac"]
topics = ["Mac"]
title = "善用你的Mac电脑"
type = "post"

+++

这篇其实很早就想写了，一直也没抽出时间来。现在在公司无聊的等同事的数据，就简单写点。

喜欢Linux的原因很大程度上是它们强大的包管理工具，rpm/yum/dnf、dpkg/apt-get/aptitude、zypper、pacman这些都是，基本功能大同小异，但就是它们让Linux和Windows甚至是很多人追捧的Mac不一样。

有了这些包管理工具，当我临时需要什么软件时，只需要`apt-get install xxxx`，马上就可以用起来了。这比百度->（甄别流氓）下载->安装->下一步->...->完成可方便多了。

Mac比Windows好那么一点点，因为它有App Store，但这点在国内并没有什么优势，因为那速度简直不忍直视。幸好有了[Homebrew](http://brew.sh/)这个利器，虽然跟Linux的包管理工具一比就是**弱鸡**，但也聊胜于无吧。

Homebrew有局限性，它只能安装命令行工具，那我需要图形界面的工具怎么办呢？[Cask](https://caskroom.github.io/)来拯救你。

我在此就不写如何使用这两个东西了，说说它们带来的好处。

1. 方便的安装需要的包
	
	举个最不恰当的例子,`cURL`是我们程序员经常用到的吧，但Mac自带的版本已经很老了，而现在又是一个强调网络安全的时代，各种新旧安全协议什么`SSLv3`、`TSLv3`让这个自带的`cURL`力不从心，经常出现错误。这时只需要`brew install curl`就可以安装了。但需要注意的是，`cURL`是个特殊的程序，因为它是**系统内置**的，所以`Homebrew`并不会静默替换它，而是会把它作为**keg only**。也就是说，它认为你虽然可以用最新的软件包来替换系统的包，但这样可能会引发问题，所以它就让你自己来决定是否真的要这样做，相信我执行`brew link curl --force`就可以使用新的`cURL`了。
	
2. 不需要时可以方便的删除

	如果你不想要哪个包了，可以`brew uninstall xxx`，而之前下载的安装包什么的页可以通过`brew cleanup`来删除。重要的是`Homebrew`并不会污染你的Mac环境，`brew`的软件装在`/usr/local/bin/`中，`brew cask`装的软件在`/opt/Cask`中，所有**真实文件**都在这里，而需要位于各种`Library`中的都是用**符号链接**实现的。那问题来了，它是如何做到安装了之后就可以用的呢？这牵涉到环境变量`PATH`的设置了，它把自己维护的二进制文件所在的路径`/usr/local/bin/`放在`PATH`的最前面，这样系统就会先去找它安装的文件，如果找不到就用系统的。很优雅的解决方案，不是么？

我不是一个Python爱好者，只是一个用户，偶尔写点Python，但即便这样也会遭遇版本问题，`brew install python3 python2`一站式解决所有问题。
	
多说一点，现在很多语言都开发了包管理工具，我知道的有pip、npm、composer、gem，甚至我最不了解的Java，像Maven估计也是用来做这种事情的。
	
这其实就是在帮**操作系统或者说发行版减负**。之前没有这些语言的包管理器的时候都是需要系统给打包，比如各种pip的包，那现在，它就成了跨平台的，每个发行版只需要维护Python的包，只要用户有了Python就有了pip，有了pip就有了无限的可能。

但我发现周围根本没有人用这些东西，虽然Mac的普及率很高，但大部分人都没有听过这些东西，我们的PHP程序员本来也不必关心别的语言的东西，但了解一些提高效率的东西还是很有必要的。
